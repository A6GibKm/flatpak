TODO:
 * Inline code in lookup() to avoid recomputing. Also, maybe do special frame_size == 1 case
 * Add more tests
 * dicts: "[sorted int] value"  ( => bsearch)
 * More attributes: untrusted

Maybe TODO:
 * Add more optional checking (out of bounds, validity, etc)
